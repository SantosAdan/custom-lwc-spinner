<template>

    <lightning-card title={cardTitle} icon-name={cardIcon}>
        <template if:true={isLoading}>
            <lightning-spinner size="small" variant="brand" alternative-text="Loading..."></lightning-spinner>
        </template>

        <template if:true={noConfigFound}>
            <div class="slds-var-m-around_small slds-align_absolute-center">
                Não foi encontrado a configuração dos metadados customizados (DynamicPicklistLevel__mdt) necessários para funcionamento deste componente. Contate um administrador.
            </div>
        </template>

        <template for:each={levels} for:item="level">
            <template if:true={level.show}>
                <div key={level.order} class="slds-var-m-around_small">
                    <c-searchable-combobox 
                        label={level.fieldLabel} 
                        options={level.options} 
                        selected-value={level.selectedLevelName} 
                        onselect={handleChange}
                        data-name={level.order}>
                    </c-searchable-combobox>
                </div>
            </template>
        </template>

        <template if:false={noConfigFound}>
            <div slot="footer" class="slds-clearfix">
                <div class="slds-float_right">
                    <lightning-button variant="brand" label="Salvar" icon-name="utility:save" onclick={handleSave}></lightning-button>
                </div>
            </div>
        </template>
    </lightning-card>

</template>